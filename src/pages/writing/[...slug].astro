---
import { getCollection } from 'astro:content'
import Page from '../../layouts/Page.astro'
import { format } from 'date-fns'

export const getStaticPaths = async () => {
  const writing = await getCollection('writing')
  return writing.map((item) => ({
    params: { slug: item.slug },
    props: { item },
  }))
}

const { item } = Astro.props
const { Content } = await item.render()
---

<Page title={item.data.title}>
  <article>
    <div class="mb-24 text-center">
      <h1 class="mb-1 text-3xl font-bold">{item.data.title}</h1>
      <time date-time={item.data.date} class="text-sm">
        {format(item.data.date, 'LLLL dd, yyyy')}
      </time>
    </div>
    <Content />
  </article>
</Page>
